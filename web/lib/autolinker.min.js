/*!
 * Autolinker.js
 * Version 0.3.1
 * 
 * Copyright(c) 2012 Gregory Jacobs.
 * MIT Licensed. http://www.opensource.org/licenses/mit-license.php
 * 
 * https://github.com/gregjacobs/Autolinker.js
 */
var Autolinker={htmlRegex:/<(\/)?(\w+)(?:(?:\s+\w+(?:\s*=\s*(?:".*?"|'.*?'|[^'">\s]+))?)+\s*|\s*)\/?>/g,prefixRegex:/^(https?:\/\/)?(www\.)?/,link:function(j,p){p=p||{};var b=Autolinker.htmlRegex,f=Autolinker.matcherRegex,n=("newWindow" in p)?p.newWindow:true,g=("stripPrefix" in p)?p.stripPrefix:true,o=p.truncate,l,k=0,h,c="",m=0;function e(q){q=q.replace(f,function(A,y,x,w,v,t){var s=y,E=x,C=w,u=v,z="",D="",B="";var r=[];D=A;B=A;if(s){z=E;D="https://twitter.com/"+C;B="@"+C}else{if(u){D="mailto:"+u;B=u}else{if(!/^[A-Za-z]{3,9}:/i.test(D)){D="http://"+D}}}if(g){B=B.replace(Autolinker.prefixRegex,"")}if(B.charAt(B.length-1)==="/"){B=B.slice(0,-1)}r.push('href="'+D+'"');if(n){r.push('target="_blank"')}if(o&&B.length>o){B=B.substring(0,o-2)+".."}return z+"<a "+r.join(" ")+">"+B+"</a>"});return q}while((l=b.exec(j))!==null){var a=l[0],d=l[2],i=!!l[1];h=j.substring(k,l.index);k=l.index+a.length;if(d==="a"){if(!i){m++;c+=e(h)}else{m--;if(m===0){c+=h}}}else{if(m===0){c+=e(h)}}c+=a}if(k<j.length){c+=e(j.substring(k))}return c}};Autolinker.matcherRegex=/((^|\s)@(\w{1,15}))|((?:[\-;:&=\+\$,\w\.]+@)[A-Za-z0-9\.\-]*[A-Za-z0-9\-]\.(?:biz|br|cc|co\.uk|com|de|edu|fr|gov|hu|info|io|me|mil|mobi|name|net|org|ru|tv|us|ws))|((?:(?:(?:[A-Za-z]{3,9}:(?:\/\/)?)[A-Za-z0-9\.\-]*[A-Za-z0-9\-])|(?:(?:www\.)[A-Za-z0-9\.\-]*[A-Za-z0-9\-])|(?:[A-Za-z0-9\.\-]*[A-Za-z0-9\-]\.(?:biz|br|cc|co\.uk|com|de|edu|fr|gov|hu|info|io|me|mil|mobi|name|net|org|ru|tv|us|ws)))(?:(?:\/(?:[\+~%\/\.\w\-]*[\+~%\/\w\-])?)?(?:\?[\-\+=&;%@\.\w]*)?(?:#[\-\.\!\/\\\w%]*)?)?)/g;